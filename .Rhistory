?cor.test
x <- c(44.4, 45.9, 41.9, 53.3, 44.7, 44.1, 50.7, 45.2, 60.1)
y <- c( 2.6,  3.1,  2.5,  5.0,  3.6,  4.0,  5.2,  2.8,  3.8)
cor.test(x,y)
options(max.print = "120")
knitr::opts_chunk$set(echo = TRUE, comment = "#>", eval = TRUE, collapse = TRUE,cache = FALSE,warning = FALSE)
knitr::opts_knit$set(width = 120)
library(tidyverse)
library(reticulate)
library(DT)
use_python(Sys.which("python"))
reticulate::repl_python()
#R
path <- "../data/NetMHCIIpan_train/"
read_file <- function(name,path) {
df = tibble()
for (i in 1:5) {
x <-  data.table::fread(str_c(path,name,i,".txt"),data.table = F,header = F)
df <- rbind(df,x)
}
return(df)
}
train_BA <- read_file("train_BA",path)
test_BA <- read_file("test_BA",path)
pseudo_sequence <- data.table::fread("../data/pseudosequence.2016.all.X.dat",data.table = F,header = F)#pseudo seq for MHC
BA <- rbind(train_BA,test_BA)
BA_filtered <- BA %>% filter(str_detect(V3,"D")) %>% select(V1,V2,V3)
colnames(pseudo_sequence) <- c("MHC","sequence")
colnames(BA_filtered) <- c("peptide","IC50","MHC")
BA_filtered_MHC <- left_join(BA_filtered,pseudo_sequence)
#na.omit(BA_filter_MHC)
BA_filtered_MHC <- unique(BA_filtered_MHC)
dim(BA_filtered_MHC)
length(table(unique(BA_filtered_MHC$MHC)))
reticulate::repl_python()
options(max.print = "120")
knitr::opts_chunk$set(echo = TRUE, comment = "#>", eval = TRUE, collapse = TRUE,cache = FALSE,warning = FALSE)
knitr::opts_knit$set(width = 120)
library(tidyverse)
library(reticulate)
library(DT)
use_python(Sys.which("python"))
reticulate::repl_python()
#R
BA_filtered_MHC["label"] = ifelse(BA_filtered_MHC$IC50>0.426,1,0) #set positive and negative
write_csv(BA_filtered_MHC,"../data/BA_MHC_label.csv")
BA_allele <- unique(BA_filtered_MHC$MHC)
write_lines(BA_allele,"../data/BA_allele.csv")
reticulate::repl_python()
options(max.print = "120")
knitr::opts_chunk$set(echo = TRUE, comment = "#>", eval = TRUE, collapse = TRUE,cache = FALSE,warning = FALSE)
knitr::opts_knit$set(width = 120)
library(tidyverse)
library(reticulate)
library(DT)
use_python(Sys.which("python"))
reticulate::repl_python()
#PBS
#R
library(tidyverse)
library(data.table)
library(Repitope)
reticulate::repl_python()
