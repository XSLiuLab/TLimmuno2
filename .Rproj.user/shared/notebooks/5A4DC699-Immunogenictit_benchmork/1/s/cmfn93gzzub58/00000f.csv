"0","#python"
"0","Repitope_result = pd.read_csv(""../data/repitope_15mer_result.csv"")"
"0","Repitope = pd.merge(Repitope_result,DF15,left_on = ""Peptide"",right_on = ""pep"")"
"0","sam_pep_ID = Repitope[""pep_ID""].unique()"
"0","res = []"
"0","p_ID = []"
"0","for a in sam_pep_ID:"
"0","    Mean = []"
"0","    ID = Repitope[Repitope[""pep_ID""] == a]"
"0","    for i in ID[""HLA""].unique():"
"0","        x = ID[ID[""HLA""] == i]"
"0","        x_mean = x[""ImmunogenicityScore""].mean()"
"0","        Mean.append(x_mean)"
"0","    res.append(max(Mean))"
"0","    p_ID.append(a)"
"0","dic = {""pep_ID"":p_ID,""ImmunogenicityScore"":res}"
"0","Repitope_pre = pd.DataFrame(dic)"
"0","Repitope_result = Repitope_pre.merge(peptide,how = ""inner"",on = ""pep_ID"" )"
"0","Repitope_score = auc_pr(Repitope_result,""Immunogenicity"",""ImmunogenicityScore"")"
"0","print(""AUC:{}"".format(Repitope_score[4]))"
"1","AUC:0.48418872266973534
"
"0","print(""PR_AUC:{}"".format(Repitope_score[5]))"
"1","PR_AUC:0.08742710133794984
"
